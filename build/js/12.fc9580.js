(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{695:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),l=a(75),o=a.n(l),i=a(200),u=a(278),c=a(129),s=a(95),f=a(294),p=a(279),m=a(130),d=a(109),b=a(107),y=a(69),g=a(290),h=a(196),v=a(94),E=a(35),w=a(127),S=a(85),q=a(291),O=a(128),j=a(58);function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t,a){return t&&T(e.prototype,t),a&&T(e,a),e}function P(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?I(e):t}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}function A(e,t){return(A=Object.setPrototypeOf||function e(t,a){return t.__proto__=a,t})(e,t)}var J=O.default.Item,R=S.default.Col,V={labelCol:{span:6},wrapperCol:{span:14}},z=function(e){function t(e){var a;return C(this,t),(a=P(this,G(t).call(this,e))).renderImage=function(e){return n.a.createElement("div",null,e.label,n.a.createElement("span",{style:{float:"right",fontSize:14,color:"grey"}},e.package.length?e.package.join("\uff0c"):"\u7a7a"))},a.onSubmit=function(e,t){t||(a.setState({posting:!0}),j.a.create({data:e}).then(function(){E.default.success("\u521b\u5efa\u5b9e\u9a8c\u6210\u529f"),a.setState({posting:!1}),a.field.reset()}).catch(function(){return a.setState({posting:!1})}))},a.onUploadSuccess=function(e){a.props.setTenant({logo:[e.id]})},a.field=new h.default(I(a)),a.state={tags:[],images:[],posting:!1},a}return x(t,e),_(t,[{key:"componentDidMount",value:function e(){var t=this;j.a.selectTags().then(function(e){var a=e.data;t.setState({tags:a.map(function(e){var t=e.id,a,r;return{label:e.category,value:t,selectable:!1,children:e.type.map(function(e){return{value:e.id,label:e.name}})}})})}),j.a.selectImages().then(function(e){var a=e.data;t.setState({images:a.map(function(e){return{value:e.id,label:e.desc,package:e.package}})})})}},{key:"render",value:function e(){var t=this.state,a=t.tags,r=t.images,l=t.posting,o=this.field.getValue("private")?"":"none";return n.a.createElement(u.default,{visible:l,tip:"\u521b\u5efa\u4e2d",inline:!1,shape:"fusion-reactor"},n.a.createElement(O.default,M({},V,{field:this.field}),n.a.createElement(J,{label:"\u5b9e\u9a8c\u6807\u9898\uff1a",required:!0,requiredMessage:"\u5b9e\u9a8c\u6807\u9898\u4e0d\u80fd\u4e3a\u7a7a"},n.a.createElement(y.default,{name:"title"})),n.a.createElement(J,{label:"\u5b9e\u9a8c\u63cf\u8ff0\uff1a",required:!0,requiredMessage:"\u5b9e\u9a8c\u63cf\u8ff0\u4e0d\u80fd\u4e3a\u7a7a"},n.a.createElement(y.default.TextArea,{name:"description"})),n.a.createElement(J,{label:"\u9884\u8ba1\u65f6\u95f4\uff1a",required:!0,requiredMessage:"\u9884\u8ba1\u65f6\u95f4\u4e0d\u80fd\u4e3a\u7a7a"},n.a.createElement(y.default,{name:"timeConsume",htmlType:"number",placeholder:"\u5b66\u65f6"})),n.a.createElement(J,{label:"\u955c\u50cf\uff1a",required:!0,requiredMessage:"\u955c\u50cf\u4e0d\u80fd\u4e3a\u7a7a"},n.a.createElement(d.default,{name:"image",style:{width:"100%"},dataSource:r,itemRender:this.renderImage}),n.a.createElement("span",{className:"fs12 corol6"},"\u6ca1\u6709\u627e\u5230\u5408\u9002\u7684\u5b9e\u9a8c\u73af\u5883\uff1f\u8bf7\u8054\u7cfb\u90ae\u7bb1\uff1asupport@mooplab.com")),n.a.createElement(J,{label:"\u5b9e\u9a8c\u6807\u7b7e\uff1a",required:!0,requiredMessage:"\u5b9e\u9a8c\u6807\u7b7e\u4e0d\u80fd\u4e3a\u7a7a"},n.a.createElement(p.default,{name:"tag",style:{width:"100%"},dataSource:a})),n.a.createElement(J,{label:"Github\u5730\u5740\uff1a",format:"url",pattern:/\.git$/i,patternMessage:"\u65e0\u6548\u7684Github\u5730\u5740",formatMessage:"\u65e0\u6548\u7684Github\u5730\u5740",required:!0,requiredMessage:"Github\u5730\u5740\u4e0d\u80fd\u4e3a\u7a7a"},n.a.createElement(y.default,{name:"spec",placeholder:"\u793a\u4f8b\uff1ahttps://example.com/demo.git"})),n.a.createElement(J,{label:"\u79c1\u6709\u9879\u76ee\uff1a"},n.a.createElement(s.default.Group,{name:"private",defaultValue:0},n.a.createElement(s.default,{value:1},"\u662f"),n.a.createElement(s.default,{value:0},"\u5426"))),n.a.createElement(J,{label:"\u8d26\u53f7\uff1a",style:{display:o},required:!o,requiredMessage:"\u8d26\u53f7\u4e0d\u80fd\u4e3a\u7a7a"},n.a.createElement(y.default,{name:"username"})),n.a.createElement(J,{label:"\u5bc6\u7801\uff1a",style:{display:o},required:!o,requiredMessage:"\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a"},n.a.createElement(y.default,{name:"password",htmlType:"password"})),n.a.createElement(J,{wrapperCol:{span:24}},n.a.createElement(R,{offset:6},n.a.createElement(O.default.Submit,{validate:!0,type:"primary",disabled:l,onClick:this.onSubmit},"\u521b\u5efa\u5b9e\u9a8c")))))}}]),t}(r.Component);function D(e,t){return $(e)||U(e,t)||N()}function N(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function U(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var a=[],r=!0,n=!1,l=void 0;try{for(var o=e[Symbol.iterator](),i;!(r=(i=o.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,l=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw l}}return a}}function $(e){if(Array.isArray(e))return e}var B=[{label:"\u586b\u5199\u5b9e\u9a8c\u6a21\u7248\u4fe1\u606f",render:function e(t){return n.a.createElement(z,t)}}],F=t.default=function(){var e,t=D(Object(r.useState)(0),2),a=t[0],l=t[1];return n.a.createElement(o.a,{title:B[a].label},B.map(function(e,t){return n.a.createElement("div",{key:t,style:{display:t===a?"block":"none"}},e.render({setStep:l}))}))}}}]);